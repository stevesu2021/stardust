import{d as e,r as a,p as l,c as t,b as s,i as n,s as u,o as c,e as i,a as r,y as d,f as o,g as f,t as v,n as _,l as y,h as p,F as g,j as k,E as h}from"./index-VE_HmMG4.js";import{a as b,_ as x}from"./_plugin-vue_export-helper.B_VXoL-J.js";import{u as m}from"./user.DucKNo_G.js";const I=x(e({__name:"calculate",setup(e){const x=m(),I=a("zodiac"),w=a(!1),z=a(!1),$=a(0),S=a(5),A=a(5),F=a(0),j=a(null),C=a(null),P=l(()=>null!==j.value),E=l(()=>{var e;return(null==(e=j.value)?void 0:e.zodiacSign)||""}),G=l(()=>{var e;if(!(null==(e=j.value)?void 0:e.lunar))return"";const a=j.value.lunar;return`${a.lunarYearText}å¹´${a.lunarMonthText}${a.lunarDayText}`}),M=l(()=>{var e;return(null==(e=j.value)?void 0:e.fiveElements)||{}}),R=l(()=>{var e;return(null==(e=j.value)?void 0:e.baZiPillars)||{}}),T=l(()=>{const e=M.value;return X(Object.entries(e).reduce((e,a)=>a[1]>e[1]?a:e)[0])}),K=l(()=>{var e;return(null==(e=C.value)?void 0:e.zodiacInterpretation)&&"object"==typeof C.value.zodiacInterpretation?C.value.zodiacInterpretation:null}),L=l(()=>{var e;return(null==(e=C.value)?void 0:e.baziInterpretation)&&"object"==typeof C.value.baziInterpretation?C.value.baziInterpretation:null}),J=l(()=>{var e;return(null==(e=C.value)?void 0:e.klineInterpretation)&&"object"==typeof C.value.klineInterpretation?C.value.klineInterpretation:null});function X(e){return{wood:"æœ¨",fire:"ç«",earth:"åœŸ",metal:"é‡‘",water:"æ°´"}[e]||e}function Z(e){return e>=80?"fortune-excellent":e>=65?"fortune-good":e>=50?"fortune-medium":e>=35?"fortune-low":"fortune-poor"}function B(e,a){return 60+680/Math.max(1,a-1)*e}function D(e){return 360-e/100*320}function O(e,a){if(!e||0===e.length)return"";const l=e.map((a,l)=>({x:B(l,e.length),y:D(a.fortune||50)}));if(1===l.length)return`M ${l[0].x} ${l[0].y} L ${l[0].x} ${l[0].y}`;let t=`M ${l[0].x} ${l[0].y}`;for(let s=0;s<l.length-1;s++){const e=l[s],a=l[s+1],n=(e.x+a.x)/2;t+=` C ${n} ${e.y}, ${n} ${a.y}, ${a.x} ${a.y}`}if(a){const e=l[l.length-1],a=l[0];t+=` L ${e.x} 400 L ${a.x} 400 Z`}return t}async function Y(e=!0){var a;if(null==(a=x.userInfo)?void 0:a.id){w.value=!0;try{const a=await b.astrology.calculate(x.userInfo.id);j.value=a,e&&(C.value=null),e&&u({title:"è®¡ç®—æˆåŠŸï¼Œè¯·é‡æ–°ç”ŸæˆAIè§£è¯»",icon:"success"})}catch(l){u({title:l.message||"è®¡ç®—å¤±è´¥",icon:"none"})}finally{w.value=!1}}else u({title:"è¯·å…ˆç™»å½•",icon:"none"})}async function q(){var e,a;if(!(null==(e=x.userInfo)?void 0:e.id))return void u({title:"è¯·å…ˆç™»å½•",icon:"none"});if(S.value<=0)return void u({title:"ä»Šæ—¥AIè§£è¯»æ¬¡æ•°å·²ç”¨å®Œï¼Œè¯·æ˜å¤©å†è¯•",icon:"none"});z.value=!0,$.value=0;const l=setInterval(()=>{$.value<90&&($.value=Math.min(90,$.value+15*Math.random()))},2e3);try{console.log("[Frontend] Calling API...");const e=await b.astrology.generateInterpretation();console.log("[Frontend] API response received:",e),console.log("[Frontend] Response has zodiacInterpretation:",!!(null==e?void 0:e.zodiacInterpretation)),console.log("[Frontend] Response has baziInterpretation:",!!(null==e?void 0:e.baziInterpretation)),console.log("[Frontend] Response has klineInterpretation:",!!(null==e?void 0:e.klineInterpretation)),C.value=e,$.value=100,u({title:"è§£è¯»ç”ŸæˆæˆåŠŸ",icon:"success"}),await H()}catch(t){console.error("[Frontend] API error:",t),u({title:t.message||"ç”Ÿæˆå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",icon:"none"}),(null==(a=t.message)?void 0:a.includes("æ¬¡æ•°å·²ç”¨å®Œ"))&&await H()}finally{clearInterval(l),setTimeout(()=>{z.value=!1,$.value=0},500)}}async function H(){var e;if(null==(e=x.userInfo)?void 0:e.id)try{const e=await b.astrology.getRemainingAttempts();S.value=e.remaining,A.value=e.total,F.value=e.used}catch(a){console.error("åŠ è½½å‰©ä½™æ¬¡æ•°å¤±è´¥:",a)}}return async function(){var e;(null==(e=x.userInfo)?void 0:e.id)&&(await H(),await async function(){var e;if(null==(e=x.userInfo)?void 0:e.id)try{const e=await b.astrology.getReading();e&&(C.value=e)}catch(a){}}(),j.value||await Y(!1))}(),(e,a)=>{const l=o,u=d,b=n;return c(),t(b,{class:"container"},{default:s(()=>[i(b,{class:"action-bar"},{default:s(()=>[i(u,{class:"btn-calculate",onClick:Y,loading:w.value},{default:s(()=>[w.value?(c(),t(l,{key:1},{default:s(()=>[f("è®¡ç®—ä¸­...")]),_:1})):(c(),t(l,{key:0},{default:s(()=>[f("âœ¨ é‡æ–°è®¡ç®—æ˜Ÿç›˜")]),_:1}))]),_:1},8,["loading"]),i(b,{class:"btn-interpret-wrapper"},{default:s(()=>[i(u,{class:"btn-interpret",onClick:q,disabled:!P.value||z.value||S.value<=0},{default:s(()=>[z.value?(c(),t(l,{key:1},{default:s(()=>[f("è§£è¯»ä¸­... "+v($.value.toFixed(1))+"%",1)]),_:1})):(c(),t(l,{key:0},{default:s(()=>[f(v(S.value>0?`ğŸ”® ç”ŸæˆAIè§£è¯» (${S.value}/${A.value})`:"ğŸ”® ä»Šæ—¥æ¬¡æ•°å·²ç”¨å®Œ"),1)]),_:1}))]),_:1},8,["disabled"]),z.value?(c(),t(b,{key:0,class:"progress-bar"},{default:s(()=>[i(b,{class:"progress-fill",style:_({width:`${$.value}%`})},null,8,["style"])]),_:1})):r("",!0)]),_:1})]),_:1}),P.value?(c(),t(b,{key:0,class:"tabs"},{default:s(()=>[i(b,{class:y(["tab-item",{active:"zodiac"===I.value}]),onClick:a[0]||(a[0]=e=>I.value="zodiac")},{default:s(()=>[i(l,{class:"tab-icon"},{default:s(()=>[f("â­")]),_:1}),i(l,{class:"tab-text"},{default:s(()=>[f("æ˜Ÿåº§")]),_:1})]),_:1},8,["class"]),i(b,{class:y(["tab-item",{active:"bazi"===I.value}]),onClick:a[1]||(a[1]=e=>I.value="bazi")},{default:s(()=>[i(l,{class:"tab-icon"},{default:s(()=>[f("â˜¯ï¸")]),_:1}),i(l,{class:"tab-text"},{default:s(()=>[f("å…«å­—")]),_:1})]),_:1},8,["class"]),i(b,{class:y(["tab-item",{active:"kline"===I.value}]),onClick:a[2]||(a[2]=e=>I.value="kline")},{default:s(()=>[i(l,{class:"tab-icon"},{default:s(()=>[f("ğŸ“ˆ")]),_:1}),i(l,{class:"tab-text"},{default:s(()=>[f("äººç”ŸKçº¿")]),_:1})]),_:1},8,["class"])]),_:1})):r("",!0),"zodiac"===I.value&&P.value?(c(),t(b,{key:1,class:"tab-content"},{default:s(()=>[i(b,{class:"card zodiac-card"},{default:s(()=>[i(b,{class:"card-header"},{default:s(()=>[i(l,{class:"card-icon"},{default:s(()=>[f("ğŸŒŸ")]),_:1}),i(l,{class:"card-title"},{default:s(()=>[f(v(E.value),1)]),_:1})]),_:1}),i(b,{class:"zodiac-info"},{default:s(()=>[i(b,{class:"info-row"},{default:s(()=>[i(l,{class:"info-label"},{default:s(()=>[f("å†œå†ç”Ÿæ—¥")]),_:1}),i(l,{class:"info-value"},{default:s(()=>[f(v(G.value),1)]),_:1})]),_:1}),i(b,{class:"info-row"},{default:s(()=>[i(l,{class:"info-label"},{default:s(()=>[f("å¹¸è¿å…ƒç´ ")]),_:1}),i(l,{class:"info-value"},{default:s(()=>[f(v(T.value),1)]),_:1})]),_:1})]),_:1})]),_:1}),i(b,{class:"card elements-card"},{default:s(()=>[i(b,{class:"card-header"},{default:s(()=>[i(l,{class:"card-icon"},{default:s(()=>[f("ğŸ¨")]),_:1}),i(l,{class:"card-title"},{default:s(()=>[f("äº”è¡Œåˆ†æ")]),_:1})]),_:1}),i(b,{class:"elements-chart"},{default:s(()=>[(c(!0),p(g,null,k(M.value,(e,a)=>(c(),t(b,{class:"element-item",key:a},{default:s(()=>[i(b,{class:y(["element-bar",`element-${a}`])},{default:s(()=>[i(b,{class:"element-fill",style:_({width:e/8*100+"%"})},null,8,["style"])]),_:2},1032,["class"]),i(l,{class:"element-label"},{default:s(()=>[f(v(X(a))+": "+v(e),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),K.value?(c(),t(b,{key:0,class:"card interpretation-card"},{default:s(()=>[i(b,{class:"card-header"},{default:s(()=>[i(l,{class:"card-icon"},{default:s(()=>[f("ğŸ“–")]),_:1}),i(l,{class:"card-title"},{default:s(()=>[f("æ˜Ÿåº§è§£è¯»")]),_:1})]),_:1}),i(b,{class:"interpretation-content"},{default:s(()=>[K.value.personality?(c(),t(b,{key:0,class:"interpretation-section"},{default:s(()=>[i(b,{class:"section-title"},{default:s(()=>[f("âœ¨ æ€§æ ¼ç‰¹ç‚¹")]),_:1}),i(l,{class:"section-text"},{default:s(()=>[f(v(K.value.personality),1)]),_:1})]),_:1})):r("",!0),K.value.love?(c(),t(b,{key:1,class:"interpretation-section"},{default:s(()=>[i(b,{class:"section-title"},{default:s(()=>[f("ğŸ’• çˆ±æƒ…æ„Ÿæƒ…")]),_:1}),i(l,{class:"section-text"},{default:s(()=>[f(v(K.value.love),1)]),_:1})]),_:1})):r("",!0),K.value.career?(c(),t(b,{key:2,class:"interpretation-section"},{default:s(()=>[i(b,{class:"section-title"},{default:s(()=>[f("ğŸ’¼ äº‹ä¸šå‘å±•")]),_:1}),i(l,{class:"section-text"},{default:s(()=>[f(v(K.value.career),1)]),_:1})]),_:1})):r("",!0),K.value.guardianStar?(c(),t(b,{key:3,class:"interpretation-section"},{default:s(()=>[i(b,{class:"section-title"},{default:s(()=>[f("â­ å®ˆæŠ¤æ˜Ÿ")]),_:1}),i(l,{class:"section-text"},{default:s(()=>[f(v(K.value.guardianStar),1)]),_:1})]),_:1})):r("",!0),K.value.luckyElements?(c(),t(b,{key:4,class:"interpretation-section"},{default:s(()=>[i(b,{class:"section-title"},{default:s(()=>[f("ğŸ€ å¹¸è¿å…ƒç´ ")]),_:1}),i(l,{class:"section-text"},{default:s(()=>[f(v(K.value.luckyElements),1)]),_:1})]),_:1})):r("",!0),K.value.overall?(c(),t(b,{key:5,class:"interpretation-section"},{default:s(()=>[i(b,{class:"section-title"},{default:s(()=>[f("ğŸ”® ç»¼åˆè¿åŠ¿")]),_:1}),i(l,{class:"section-text"},{default:s(()=>[f(v(K.value.overall),1)]),_:1})]),_:1})):r("",!0)]),_:1})]),_:1})):(c(),t(b,{key:1,class:"card hint-card"},{default:s(()=>[i(l,{class:"hint-text"},{default:s(()=>[f('ç‚¹å‡»"ç”ŸæˆAIè§£è¯»"è·å–è¯¦ç»†çš„æ˜Ÿåº§åˆ†æ')]),_:1})]),_:1}))]),_:1})):r("",!0),"bazi"===I.value&&P.value?(c(),t(b,{key:2,class:"tab-content"},{default:s(()=>[i(b,{class:"card bazi-card"},{default:s(()=>[i(b,{class:"card-header"},{default:s(()=>[i(l,{class:"card-icon"},{default:s(()=>[f("â˜¯ï¸")]),_:1}),i(l,{class:"card-title"},{default:s(()=>[f("å…«å­—å››æŸ±")]),_:1})]),_:1}),i(b,{class:"bazi-pillars"},{default:s(()=>[i(b,{class:"pillar-item"},{default:s(()=>[i(b,{class:"pillar-label"},{default:s(()=>[f("å¹´æŸ±")]),_:1}),i(b,{class:"pillar-value year-pillar"},{default:s(()=>[f(v(R.value.yearPillar),1)]),_:1})]),_:1}),i(b,{class:"pillar-divider"},{default:s(()=>[f("â†’")]),_:1}),i(b,{class:"pillar-item"},{default:s(()=>[i(b,{class:"pillar-label"},{default:s(()=>[f("æœˆæŸ±")]),_:1}),i(b,{class:"pillar-value month-pillar"},{default:s(()=>[f(v(R.value.monthPillar),1)]),_:1})]),_:1}),i(b,{class:"pillar-divider"},{default:s(()=>[f("â†’")]),_:1}),i(b,{class:"pillar-item"},{default:s(()=>[i(b,{class:"pillar-label"},{default:s(()=>[f("æ—¥æŸ±")]),_:1}),i(b,{class:"pillar-value day-pillar"},{default:s(()=>[f(v(R.value.dayPillar),1)]),_:1})]),_:1}),i(b,{class:"pillar-divider"},{default:s(()=>[f("â†’")]),_:1}),i(b,{class:"pillar-item"},{default:s(()=>[i(b,{class:"pillar-label"},{default:s(()=>[f("æ—¶æŸ±")]),_:1}),i(b,{class:"pillar-value hour-pillar"},{default:s(()=>[f(v(R.value.hourPillar),1)]),_:1})]),_:1})]),_:1})]),_:1}),L.value?(c(),t(b,{key:0,class:"card interpretation-card"},{default:s(()=>[i(b,{class:"card-header"},{default:s(()=>[i(l,{class:"card-icon"},{default:s(()=>[f("ğŸ“–")]),_:1}),i(l,{class:"card-title"},{default:s(()=>[f("å…«å­—è§£è¯»")]),_:1})]),_:1}),i(b,{class:"interpretation-content"},{default:s(()=>[L.value.mingJu?(c(),t(b,{key:0,class:"interpretation-section"},{default:s(()=>[i(b,{class:"section-title"},{default:s(()=>[f("ğŸ”ï¸ å‘½å±€åˆ†æ")]),_:1}),i(l,{class:"section-text"},{default:s(()=>[f(v(L.value.mingJu),1)]),_:1})]),_:1})):r("",!0),L.value.wuXing?(c(),t(b,{key:1,class:"interpretation-section"},{default:s(()=>[i(b,{class:"section-title"},{default:s(()=>[f("âš–ï¸ äº”è¡Œå–œå¿Œ")]),_:1}),i(l,{class:"section-text"},{default:s(()=>[f(v(L.value.wuXing),1)]),_:1})]),_:1})):r("",!0),L.value.character?(c(),t(b,{key:2,class:"interpretation-section"},{default:s(()=>[i(b,{class:"section-title"},{default:s(()=>[f("ğŸ‘¤ æ€§æ ¼ç‰¹è´¨")]),_:1}),i(l,{class:"section-text"},{default:s(()=>[f(v(L.value.character),1)]),_:1})]),_:1})):r("",!0),L.value.career?(c(),t(b,{key:3,class:"interpretation-section"},{default:s(()=>[i(b,{class:"section-title"},{default:s(()=>[f("ğŸ’° äº‹ä¸šè´¢è¿")]),_:1}),i(l,{class:"section-text"},{default:s(()=>[f(v(L.value.career),1)]),_:1})]),_:1})):r("",!0),L.value.marriage?(c(),t(b,{key:4,class:"interpretation-section"},{default:s(()=>[i(b,{class:"section-title"},{default:s(()=>[f("ğŸ’‘ å©šå§»æ„Ÿæƒ…")]),_:1}),i(l,{class:"section-text"},{default:s(()=>[f(v(L.value.marriage),1)]),_:1})]),_:1})):r("",!0),L.value.health?(c(),t(b,{key:5,class:"interpretation-section"},{default:s(()=>[i(b,{class:"section-title"},{default:s(()=>[f("ğŸ¥ å¥åº·è¿åŠ¿")]),_:1}),i(l,{class:"section-text"},{default:s(()=>[f(v(L.value.health),1)]),_:1})]),_:1})):r("",!0),L.value.yearlyFortune?(c(),t(b,{key:6,class:"interpretation-section"},{default:s(()=>[i(b,{class:"section-title"},{default:s(()=>[f("ğŸ“ˆ æµå¹´è¿åŠ¿")]),_:1}),i(l,{class:"section-text"},{default:s(()=>[f(v(L.value.yearlyFortune),1)]),_:1})]),_:1})):r("",!0),L.value.advice?(c(),t(b,{key:7,class:"interpretation-section"},{default:s(()=>[i(b,{class:"section-title"},{default:s(()=>[f("ğŸ’¡ å¼€è¿å»ºè®®")]),_:1}),i(l,{class:"section-text"},{default:s(()=>[f(v(L.value.advice),1)]),_:1})]),_:1})):r("",!0)]),_:1})]),_:1})):(c(),t(b,{key:1,class:"card hint-card"},{default:s(()=>[i(l,{class:"hint-text"},{default:s(()=>[f('ç‚¹å‡»"ç”ŸæˆAIè§£è¯»"è·å–è¯¦ç»†çš„å…«å­—åˆ†æ')]),_:1})]),_:1}))]),_:1})):r("",!0),"kline"===I.value&&P.value?(c(),t(b,{key:3,class:"tab-content"},{default:s(()=>{var e,a;return[i(b,{class:"card kline-card"},{default:s(()=>{var e,a;return[i(b,{class:"card-header"},{default:s(()=>[i(l,{class:"card-icon"},{default:s(()=>[f("ğŸ“ˆ")]),_:1}),i(l,{class:"card-title"},{default:s(()=>[f("äººç”Ÿè¿åŠ¿Kçº¿å›¾")]),_:1})]),_:1}),(null==(e=J.value)?void 0:e.lifeStages)?(c(),t(b,{key:0,class:"kline-chart"},{default:s(()=>[i(b,{class:"chart-container"},{default:s(()=>[i(b,{class:"y-axis"},{default:s(()=>[(c(),p(g,null,k(5,e=>i(b,{class:"y-label",key:e},{default:s(()=>[i(l,{class:"y-text"},{default:s(()=>[f(v(100-25*(e-1)),1)]),_:2},1024)]),_:2},1024)),64))]),_:1}),i(b,{class:"chart-area"},{default:s(()=>[i(b,{class:"grid-lines"},{default:s(()=>[(c(),p(g,null,k(5,e=>i(b,{class:"grid-line",key:"grid-"+e,style:_({bottom:25*(e-1)+"%"})},null,8,["style"])),64))]),_:1}),i(b,{class:"kline-curve-container"},{default:s(()=>[(c(),p("svg",{class:"kline-curve-svg",viewBox:"0 0 800 400",preserveAspectRatio:"none"},[h("defs",null,[h("linearGradient",{id:"curveGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[h("stop",{offset:"0%",style:{"stop-color":"rgba(102, 126, 234, 0.3)","stop-opacity":"1"}}),h("stop",{offset:"100%",style:{"stop-color":"rgba(102, 126, 234, 0.05)","stop-opacity":"1"}})]),h("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[h("stop",{offset:"0%",style:{"stop-color":"#667eea","stop-opacity":"1"}}),h("stop",{offset:"100%",style:{"stop-color":"#764ba2","stop-opacity":"1"}})])]),h("path",{d:O(J.value.lifeStages,!0),fill:"url(#curveGradient)",stroke:"none"},null,8,["d"]),h("path",{d:O(J.value.lifeStages,!1),fill:"none",stroke:"url(#lineGradient)","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},null,8,["d"]),(c(!0),p(g,null,k(J.value.lifeStages,(e,a)=>(c(),p("circle",{key:"point-"+a,cx:B(a,J.value.lifeStages.length),cy:D(e.fortune),r:"6",fill:"#667eea",stroke:"white","stroke-width":"2"},null,8,["cx","cy"]))),128)),(c(!0),p(g,null,k(J.value.lifeStages,(e,a)=>(c(),t(l,{key:"label-"+a,x:B(a,J.value.lifeStages.length),y:D(e.fortune)-15,"text-anchor":"middle",class:"fortune-label",fill:"#667eea","font-size":"14","font-weight":"bold"},{default:s(()=>[f(v(e.fortune),1)]),_:2},1032,["x","y"]))),128))]))]),_:1}),i(b,{class:"kline-bars"},{default:s(()=>[(c(!0),p(g,null,k(J.value.lifeStages,(e,a)=>(c(),t(b,{class:"kline-bar-group",key:a,onClick:a=>function(e){console.log("Show stage detail:",e)}(e)},{default:s(()=>[i(b,{class:"kline-bar-wrapper",style:_({height:`${e.fortune}%`})},{default:s(()=>[i(b,{class:y(["kline-bar",Z(e.fortune)])},null,8,["class"])]),_:2},1032,["style"]),i(b,{class:"stage-label"},{default:s(()=>[i(l,{class:"stage-age"},{default:s(()=>[f(v(e.age)+"å²",1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})):r("",!0),(null==(a=J.value)?void 0:a.overallTrend)?(c(),t(b,{key:1,class:"overall-trend"},{default:s(()=>[i(b,{class:"trend-title"},{default:s(()=>[f("ğŸ“Š æ•´ä½“è¿åŠ¿è¶‹åŠ¿")]),_:1}),i(l,{class:"trend-text"},{default:s(()=>[f(v(J.value.overallTrend),1)]),_:1})]),_:1})):r("",!0)]}),_:1}),(null==(e=J.value)?void 0:e.lifeStages)?(c(),t(b,{key:0,class:"card stages-card"},{default:s(()=>[i(b,{class:"card-header"},{default:s(()=>[i(l,{class:"card-icon"},{default:s(()=>[f("ğŸ“…")]),_:1}),i(l,{class:"card-title"},{default:s(()=>[f("äººç”Ÿé˜¶æ®µè¯¦æƒ…")]),_:1})]),_:1}),i(b,{class:"stages-list"},{default:s(()=>[(c(!0),p(g,null,k(J.value.lifeStages,(e,a)=>(c(),t(b,{class:"stage-item",key:a},{default:s(()=>[i(b,{class:"stage-header"},{default:s(()=>[i(b,{class:"stage-info"},{default:s(()=>[i(l,{class:"stage-age-large"},{default:s(()=>[f(v(e.age)+"å²",1)]),_:2},1024),i(l,{class:"stage-years"},{default:s(()=>[f(v(e.years),1)]),_:2},1024)]),_:2},1024),i(b,{class:y(["fortune-badge",Z(e.fortune)])},{default:s(()=>[i(l,{class:"fortune-value"},{default:s(()=>[f(v(e.fortune),1)]),_:2},1024),i(l,{class:"fortune-text"},{default:s(()=>[f("è¿åŠ¿æŒ‡æ•°")]),_:1})]),_:2},1032,["class"])]),_:2},1024),i(b,{class:"stage-details"},{default:s(()=>[e.career?(c(),t(b,{key:0,class:"stage-detail-row"},{default:s(()=>[i(l,{class:"detail-icon"},{default:s(()=>[f("ğŸ’¼")]),_:1}),i(l,{class:"detail-text"},{default:s(()=>[f(v(e.career),1)]),_:2},1024)]),_:2},1024)):r("",!0),e.wealth?(c(),t(b,{key:1,class:"stage-detail-row"},{default:s(()=>[i(l,{class:"detail-icon"},{default:s(()=>[f("ğŸ’°")]),_:1}),i(l,{class:"detail-text"},{default:s(()=>[f(v(e.wealth),1)]),_:2},1024)]),_:2},1024)):r("",!0),e.love?(c(),t(b,{key:2,class:"stage-detail-row"},{default:s(()=>[i(l,{class:"detail-icon"},{default:s(()=>[f("ğŸ’•")]),_:1}),i(l,{class:"detail-text"},{default:s(()=>[f(v(e.love),1)]),_:2},1024)]),_:2},1024)):r("",!0),e.health?(c(),t(b,{key:3,class:"stage-detail-row"},{default:s(()=>[i(l,{class:"detail-icon"},{default:s(()=>[f("ğŸ¥")]),_:1}),i(l,{class:"detail-text"},{default:s(()=>[f(v(e.health),1)]),_:2},1024)]),_:2},1024)):r("",!0),e.keyEvents?(c(),t(b,{key:4,class:"stage-detail-row key-event"},{default:s(()=>[i(l,{class:"detail-icon"},{default:s(()=>[f("âš¡")]),_:1}),i(l,{class:"detail-text"},{default:s(()=>[f(v(e.keyEvents),1)]),_:2},1024)]),_:2},1024)):r("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):r("",!0),(null==(a=J.value)?void 0:a.advice)?(c(),t(b,{key:1,class:"card advice-card"},{default:s(()=>[i(b,{class:"card-header"},{default:s(()=>[i(l,{class:"card-icon"},{default:s(()=>[f("ğŸ’¡")]),_:1}),i(l,{class:"card-title"},{default:s(()=>[f("äººç”Ÿå»ºè®®")]),_:1})]),_:1}),i(l,{class:"advice-text"},{default:s(()=>[f(v(J.value.advice),1)]),_:1})]),_:1})):(c(),t(b,{key:2,class:"card hint-card"},{default:s(()=>[i(l,{class:"hint-text"},{default:s(()=>[f('ç‚¹å‡»"ç”ŸæˆAIè§£è¯»"è·å–äººç”ŸKçº¿åˆ†æ')]),_:1})]),_:1}))]}),_:1})):r("",!0),P.value||w.value?r("",!0):(c(),t(b,{key:4,class:"empty-state"},{default:s(()=>[i(l,{class:"empty-icon"},{default:s(()=>[f("ğŸŒ™")]),_:1}),i(l,{class:"empty-text"},{default:s(()=>[f('ç‚¹å‡»"é‡æ–°è®¡ç®—æ˜Ÿç›˜"å¼€å§‹åˆ†æ')]),_:1})]),_:1}))]),_:1})}}}),[["__scopeId","data-v-a131bc02"]]);export{I as default};
