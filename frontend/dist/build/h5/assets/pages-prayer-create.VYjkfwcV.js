import{d as a,r as e,c as l,b as s,i as t,o,e as u,f as n,g as c,H as r,I as i,y as d,s as m,J as f}from"./index-VE_HmMG4.js";import{a as p,_}from"./_plugin-vue_export-helper.B_VXoL-J.js";import{u as v}from"./user.DucKNo_G.js";const g=_(a({__name:"create",setup(a){const _=e(""),g=e(""),V=e(!1);async function y(){if(_.value){V.value=!0;try{await p.reunitePrayer.create({content:_.value,targetName:g.value}),m({title:"发布成功",icon:"success"}),setTimeout(()=>{f()},1e3)}catch(a){m({title:a.message||"发布失败",icon:"none"})}finally{V.value=!1}}else m({title:"请输入祈愿内容",icon:"none"})}return v(),(a,e)=>{const m=n,f=r,p=t,v=i,b=d;return o(),l(p,{class:"container"},{default:s(()=>[u(p,{class:"form"},{default:s(()=>[u(p,{class:"form-item"},{default:s(()=>[u(m,{class:"label"},{default:s(()=>[c("祈愿内容")]),_:1}),u(f,{class:"textarea",modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=a=>_.value=a),placeholder:"写下你的祈愿..."},null,8,["modelValue"])]),_:1}),u(p,{class:"form-item"},{default:s(()=>[u(m,{class:"label"},{default:s(()=>[c("对象姓名（可选）")]),_:1}),u(v,{class:"input",modelValue:g.value,"onUpdate:modelValue":e[1]||(e[1]=a=>g.value=a),placeholder:"对方的名字"},null,8,["modelValue"])]),_:1}),u(b,{class:"btn",onClick:y,loading:V.value},{default:s(()=>[c("发布祈愿")]),_:1},8,["loading"])]),_:1})]),_:1})}}}),[["__scopeId","data-v-aac4ea60"]]);export{g as default};
