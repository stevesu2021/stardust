import{d as a,r as e,p as l,q as s,s as t,c,b as u,i as d,o as n,e as o,f as r,g as f,t as i,a as _,l as v,y,J as p}from"./index-VE_HmMG4.js";import{a as k,_ as h}from"./_plugin-vue_export-helper.B_VXoL-J.js";const m=h(a({__name:"detail",setup(a){const h=e(null),m=e(!1),x=e({career:!1,love:!1,wealth:!1,health:!1}),b=l(()=>{const a=new Date;return`${a.getFullYear()}å¹´${a.getMonth()+1}æœˆ${a.getDate()}æ—¥ ${["å‘¨æ—¥","å‘¨ä¸€","å‘¨äºŒ","å‘¨ä¸‰","å‘¨å››","å‘¨äº”","å‘¨å…­"][a.getDay()]}`}),g=l(()=>h.value&&(h.value.luckyColor||h.value.luckyNumber||h.value.luckyDirection));async function w(){m.value=!0;try{const a=await k.dailyFortune.refresh();h.value=a,t({title:"åˆ·æ–°æˆåŠŸ",icon:"success"})}catch(a){t({title:a.message||"åˆ·æ–°å¤±è´¥",icon:"none"})}finally{m.value=!1}}function C(a){x.value[a]=!x.value[a]}function D(){p()}return s(async()=>{await async function(){m.value=!0;try{const a=await k.dailyFortune.getToday();h.value=a}catch(a){t({title:a.message||"åŠ è½½å¤±è´¥",icon:"none"})}finally{m.value=!1}}()}),(a,e)=>{const l=r,s=d,t=y;return n(),c(s,{class:"detail-page"},{default:u(()=>[o(s,{class:"header"},{default:u(()=>[o(l,{class:"title"},{default:u(()=>[f("ä»Šæ—¥è¿åŠ¿")]),_:1}),o(l,{class:"date"},{default:u(()=>[f(i(b.value),1)]),_:1})]),_:1}),m.value?(n(),c(s,{key:0,class:"loading"},{default:u(()=>[o(l,{class:"loading-text"},{default:u(()=>[f("åŠ è½½ä¸­...")]),_:1})]),_:1})):h.value?(n(),c(s,{key:1,class:"content"},{default:u(()=>[o(s,{class:"score-card"},{default:u(()=>{return[o(s,{class:v(["score-display",(a=h.value.overallScore,a>=80?"excellent":a>=60?"good":"normal")])},{default:u(()=>[o(l,{class:"score-value"},{default:u(()=>[f(i(h.value.overallScore),1)]),_:1}),o(l,{class:"score-label"},{default:u(()=>[f("æ€»ä½“å¾—åˆ†")]),_:1})]),_:1},8,["class"]),o(s,{class:"score-summary"},{default:u(()=>[o(l,{class:"summary-text"},{default:u(()=>[f(i(h.value.summary),1)]),_:1})]),_:1})];var a}),_:1}),h.value.precautions?(n(),c(s,{key:0,class:"card precautions-card"},{default:u(()=>[o(l,{class:"card-title"},{default:u(()=>[f("âš ï¸ æ³¨æ„äº‹é¡¹")]),_:1}),o(l,{class:"card-text"},{default:u(()=>[f(i(h.value.precautions),1)]),_:1})]),_:1})):_("",!0),o(s,{class:"fortune-aspects"},{default:u(()=>[h.value.career?(n(),c(s,{key:0,class:"aspect-card career",onClick:e[0]||(e[0]=a=>C("career"))},{default:u(()=>[o(s,{class:"aspect-header"},{default:u(()=>[o(l,{class:"aspect-icon"},{default:u(()=>[f("ğŸ’¼")]),_:1}),o(l,{class:"aspect-title"},{default:u(()=>[f("äº‹ä¸šè¿åŠ¿")]),_:1}),o(l,{class:"expand-icon"},{default:u(()=>[f(i(x.value.career?"â–²":"â–¼"),1)]),_:1})]),_:1}),o(l,{class:v(["aspect-text",{expanded:x.value.career}])},{default:u(()=>[f(i(h.value.career),1)]),_:1},8,["class"])]),_:1})):_("",!0),h.value.love?(n(),c(s,{key:1,class:"aspect-card love",onClick:e[1]||(e[1]=a=>C("love"))},{default:u(()=>[o(s,{class:"aspect-header"},{default:u(()=>[o(l,{class:"aspect-icon"},{default:u(()=>[f("â¤ï¸")]),_:1}),o(l,{class:"aspect-title"},{default:u(()=>[f("çˆ±æƒ…è¿åŠ¿")]),_:1}),o(l,{class:"expand-icon"},{default:u(()=>[f(i(x.value.love?"â–²":"â–¼"),1)]),_:1})]),_:1}),o(l,{class:v(["aspect-text",{expanded:x.value.love}])},{default:u(()=>[f(i(h.value.love),1)]),_:1},8,["class"])]),_:1})):_("",!0),h.value.wealth?(n(),c(s,{key:2,class:"aspect-card wealth",onClick:e[2]||(e[2]=a=>C("wealth"))},{default:u(()=>[o(s,{class:"aspect-header"},{default:u(()=>[o(l,{class:"aspect-icon"},{default:u(()=>[f("ğŸ’°")]),_:1}),o(l,{class:"aspect-title"},{default:u(()=>[f("è´¢å¯Œè¿åŠ¿")]),_:1}),o(l,{class:"expand-icon"},{default:u(()=>[f(i(x.value.wealth?"â–²":"â–¼"),1)]),_:1})]),_:1}),o(l,{class:v(["aspect-text",{expanded:x.value.wealth}])},{default:u(()=>[f(i(h.value.wealth),1)]),_:1},8,["class"])]),_:1})):_("",!0),h.value.health?(n(),c(s,{key:3,class:"aspect-card health",onClick:e[3]||(e[3]=a=>C("health"))},{default:u(()=>[o(s,{class:"aspect-header"},{default:u(()=>[o(l,{class:"aspect-icon"},{default:u(()=>[f("ğŸ¥")]),_:1}),o(l,{class:"aspect-title"},{default:u(()=>[f("å¥åº·è¿åŠ¿")]),_:1}),o(l,{class:"expand-icon"},{default:u(()=>[f(i(x.value.health?"â–²":"â–¼"),1)]),_:1})]),_:1}),o(l,{class:v(["aspect-text",{expanded:x.value.health}])},{default:u(()=>[f(i(h.value.health),1)]),_:1},8,["class"])]),_:1})):_("",!0)]),_:1}),g.value?(n(),c(s,{key:1,class:"lucky-section"},{default:u(()=>[o(l,{class:"section-title"},{default:u(()=>[f("ğŸ€ å¹¸è¿å…ƒç´ ")]),_:1}),o(s,{class:"lucky-grid"},{default:u(()=>[h.value.luckyColor?(n(),c(s,{key:0,class:"lucky-item"},{default:u(()=>[o(l,{class:"lucky-icon"},{default:u(()=>[f("ğŸ¨")]),_:1}),o(s,{class:"lucky-info"},{default:u(()=>[o(l,{class:"lucky-label"},{default:u(()=>[f("å¹¸è¿é¢œè‰²")]),_:1}),o(l,{class:"lucky-value"},{default:u(()=>[f(i(h.value.luckyColor),1)]),_:1})]),_:1})]),_:1})):_("",!0),h.value.luckyNumber?(n(),c(s,{key:1,class:"lucky-item"},{default:u(()=>[o(l,{class:"lucky-icon"},{default:u(()=>[f("ğŸ”¢")]),_:1}),o(s,{class:"lucky-info"},{default:u(()=>[o(l,{class:"lucky-label"},{default:u(()=>[f("å¹¸è¿æ•°å­—")]),_:1}),o(l,{class:"lucky-value"},{default:u(()=>[f(i(h.value.luckyNumber),1)]),_:1})]),_:1})]),_:1})):_("",!0),h.value.luckyDirection?(n(),c(s,{key:2,class:"lucky-item"},{default:u(()=>[o(l,{class:"lucky-icon"},{default:u(()=>[f("ğŸ§­")]),_:1}),o(s,{class:"lucky-info"},{default:u(()=>[o(l,{class:"lucky-label"},{default:u(()=>[f("å¹¸è¿æ–¹ä½")]),_:1}),o(l,{class:"lucky-value"},{default:u(()=>[f(i(h.value.luckyDirection),1)]),_:1})]),_:1})]),_:1})):_("",!0)]),_:1})]),_:1})):_("",!0),h.value.advice?(n(),c(s,{key:2,class:"card advice-card"},{default:u(()=>[o(l,{class:"card-title"},{default:u(()=>[f("ğŸ’¡ ä»Šæ—¥å»ºè®®")]),_:1}),o(l,{class:"card-text"},{default:u(()=>[f(i(h.value.advice),1)]),_:1})]),_:1})):_("",!0),o(s,{class:"actions"},{default:u(()=>[o(t,{class:"btn btn-secondary",onClick:D},{default:u(()=>[f("è¿”å›")]),_:1}),o(t,{class:"btn btn-primary",onClick:w},{default:u(()=>[f("åˆ·æ–°è¿åŠ¿")]),_:1})]),_:1})]),_:1})):(n(),c(s,{key:2,class:"empty"},{default:u(()=>[o(l,{class:"empty-icon"},{default:u(()=>[f("ğŸ“Š")]),_:1}),o(l,{class:"empty-text"},{default:u(()=>[f("æš‚æ— è¿åŠ¿æ•°æ®")]),_:1}),o(t,{class:"btn btn-primary",onClick:w},{default:u(()=>[f("ç«‹å³è®¡ç®—")]),_:1})]),_:1}))]),_:1})}}}),[["__scopeId","data-v-b7482de0"]]);export{m as default};
